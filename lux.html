<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AIR Prediction Result</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.2/lux/bootstrap.min.css"
    />
    <style>
      body {
        background-color: #f8f9fa;
      }

      .container {
        margin-top: 50px;
        background: #ffffff;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        padding: 20px;
      }

      .step-container {
        margin-bottom: 20px;
      }

      .step {
        text-align: center;
      }

      .step .step-number {
        font-size: 24px;
        font-weight: bold;
        color: white;
        background-color: #0d6efd;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        line-height: 50px;
        display: inline-block;
      }

      .step.active .step-number {
        background-color: #198754;
      }

      .result-box {
        border: 1px solid #dee2e6;
        border-radius: 8px;
        padding: 20px;
        background-color: #ffffff;
        margin-bottom: 20px;
      }

      .result-title {
        font-size: 18px;
        font-weight: bold;
      }

      .highlight {
        font-weight: bold;
        color: #198754;
      }

      .highlight-danger {
        font-weight: bold;
        color: #dc3545;
      }

      .image-box {
        text-align: left; /* 텍스트를 왼쪽 정렬 */
        padding: 20px;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        background-color: #ffffff;
      }

      .footer {
        text-align: center;
        margin-top: 30px;
        color: #6c757d;
      }
      
      .image-center {
        text-align: center;
      }

      .highlight {
        font-weight: bold;
        color: white;
        background-color: #198754; /* 초록색 (정상) */
        padding: 2px 8px;
        border-radius: 4px;
      }
      .confidence-box {
        font-weight: bold;
        color: white;
        background-color: #343a40; /* 검정색 (확률 박스) */
        padding: 2px 8px;
        border-radius: 4px;
      }
      /*분석 결과가 '공격'일때
      .highlight-danger {
        font-weight: bold;
        color: white;
        background-color: #dc3545; 
        padding: 2px 8px;
        border-radius: 4px;
      }*/
      
    </style>
  </head>
  <body>
    <div class="container">
      <!-- 헤더 -->
      <div class="header text-center">
        <h1 class="display-6">AIR 예측 결과</h1>
        <p class="text-muted">입력하신 데이터를 기반으로 AI가 분석한 결과입니다.</p>
      </div>

      <!-- 단계 표시 -->
      <div class="step-container row my-4">
        <div class="col step">
          <div class="step-number">1</div>
          <div class="mt-2">페이로드 입력</div>
        </div>
        <div class="col step">
          <div class="step-number">2</div>
          <div class="mt-2">모델 선택</div>
        </div>
        <div class="col step active">
          <div class="step-number">3</div>
          <div class="mt-2">예측하기</div>
        </div>
      </div>

      <!-- 페이로드 출력 -->
       <!-- TODO: 데이터값 받아서 출력 -->
      <div class="result-box">
        <h5 class="result-title">입력한 페이로드</h5>
        <p>입력받은 페이로드 값 출력</p>
      </div>

      <!-- 모델 결과 출력 -->
        <!-- TODO: 데이터 연동 시 AI 예측 결과 표시(AI예측/공격 유형) -->
      <div class="result-box">
        <h5 class="result-title">분류형 모델 결과</h5>
        <ul>
            <li>
                AI 예측: 인공지능에서 예측한 결과는 
                <span class="highlight">정상</span>일 확률이 
                <span class="confidence-box">95%</span>입니다.
              </li>
             <!--AI 예측이 공격일 때
              <li>
                AI 예측: 인공지능에서 예측한 결과는 
                <span class="highlight-danger">공격</span>일 확률이 
                <span class="confidence-box">85%</span>입니다.
              </li>-->
          <li>공격 유형: Normal</li>
          <li>분석 기법 : 머신러닝 기반의 알고리즘</li>
        </ul>
      </div>

      <!-- 설명형 모델 결과 -->
        <!-- TODO: 데이터값 받아올 수 있는지 확인 후 진행 -->
      <div class="result-box image-box">
        <h5 class="result-title">설명형 모델 결과</h5>
        <p>모델이 분석한 결과를 기반으로 추가 정보를 제공합니다.</p>
        <div class="image-center">
            <img src="{{ result.image_path }}" alt="모델 분석 결과 이미지" class="img-fluid" />
        </div>        
      </div>

      <!-- 메인으로 돌아가기 버튼 -->
      <div class="text-end mt-3">
        <a href="" class="btn btn-primary">메인으로 돌아가기</a>
      </div>
    </div>

    <!-- 푸터 -->
    <div class="footer">Copyright © 2024 IGLOO Corp. ALL RIGHTS RESERVED.</div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
